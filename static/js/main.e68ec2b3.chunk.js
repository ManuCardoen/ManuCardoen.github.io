(this.webpackJsonptraiteurcarl=this.webpackJsonptraiteurcarl||[]).push([[0],{161:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),s=(n(161),n(14)),l=n(49),o=n(51),u=n(30),j=n(1);function b(e){var t=e.link,n=e.icon,a=e.text,r=Object(s.f)(),c=Object(s.g)(),i=Object(u.c)(),o=r.pathname===t?"bp3-intent-primary":"bp3-minimal";return Object(j.jsx)(l.a,{className:o,icon:n,text:a,onClick:"/logout"===t?function(){i()}:function(){return c(t)}})}function d(){var e=Object(u.d)(),t=e.isAuthed;e.user;return Object(j.jsx)("nav",{id:"hoofdmenu",children:Object(j.jsxs)(l.p,{children:[Object(j.jsxs)(l.p.Group,{align:o.a.LEFT,children:[Object(j.jsx)(b,{link:"/klanten",icon:"people",text:"Klanten"}),Object(j.jsx)(b,{link:"/bestellingen",icon:"th",text:"Bestellingen"}),Object(j.jsx)(b,{link:"/gerechten",icon:"glass",text:"Gerechten"}),Object(j.jsx)(b,{link:"/facturatie",icon:"euro",text:"Facturatie"}),Object(j.jsx)(b,{link:"/over",icon:"lightbulb",text:"Over"})]}),Object(j.jsxs)(l.p.Group,{align:o.a.RIGHT,children:[Object(j.jsx)(l.p.Divider,{}),t?Object(j.jsx)(b,{link:"/logout",icon:"lightbulb",text:"Afmelden"}):Object(j.jsx)(b,{link:"/login",icon:"lightbulb",text:"Aanmelden"}),Object(j.jsx)(l.p.Heading,{children:Object(j.jsx)("img",{src:"https://www.traiteurcarl.be/smarty/wireframe07/media/images/logo-Traiteur-Carl.png",alt:"logo",style:{height:"55px"}})})]})]})})}var h=n(9),O=n.n(h),p=n(16),m=n(10),f=n(29),x=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("klanten");case 2:return t=e.sent,n=t.data,console.log("Got data"),console.dir(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i,s,l,o,u,j,b,d,h,p,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.KlantID,a=t.Naam,r=t.Voornaam,c=t.Straat,i=t.Huisnummer,s=t.Postcode,l=t.Gemeente,o=t.Telefoonnummer,u=t.GSM,j=t.Email,b=t.OpenstaandSaldo,d=t.VasteKlant,h="put",void 0===n&&(h="post"),console.log("KlantID: ".concat(n)),console.log("Method: ".concat(h)),e.next=7,Object(f.a)({method:h,url:"klanten/".concat(null!==n&&void 0!==n?n:""),data:{KlantID:n,Voornaam:r,Naam:a,Straat:c,Huisnummer:i,Postcode:s,Gemeente:l,Telefoonnummer:o,GSM:u,Email:j,OpenstaandSaldo:b,VasteKlant:d}});case 7:return p=e.sent,m=p.data,e.abrupt("return",m);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(a.createContext)(),k=function(e){var t=e.children,n=Object(u.d)().ready,r=Object(a.useState)(!1),c=Object(m.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)({}),o=Object(m.a)(l,2),b=o[0],d=o[1],h=Object(a.useState)(),f=Object(m.a)(h,2),k=f[0],y=f[1],w=Object(a.useState)(!1),C=Object(m.a)(w,2),S=C[0],D=C[1],V=Object(a.useState)([]),T=Object(m.a)(V,2),E=T[0],I=T[1],N=Object(a.useState)(),L=Object(m.a)(N,2),G=L[0],P=(L[1],Object(a.useCallback)(Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(null),M();case 2:case"end":return e.stop()}}),e)}))),[])),M=Object(a.useCallback)(Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(),D(!0),e.next=5,x();case 5:t=e.sent,I(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),y(e.t0);case 13:return e.prev=13,D(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])}))),[]);Object(a.useEffect)((function(){n&&!i&&(M(),s(!0))}),[n,i,M]);var A=Object(a.useCallback)(function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i,s,l,o,u,j,b,d,h;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.KlantID,a=t.Voornaam,r=t.Naam,c=t.Straat,i=t.Huisnummer,s=t.Postcode,l=t.Gemeente,o=t.Telefoonnummer,u=t.GSM,j=t.Email,b=t.OpenstaandSaldo,d=t.Vasteklant,y(),D(!0),e.prev=3,e.next=6,g({KlantID:n,Voornaam:a,Naam:r,Straat:c,Huisnummer:i,Postcode:s,Gemeente:l,Telefoonnummer:o,GSM:u,Email:j,OpenstaandSaldo:b,Vasteklant:d});case 6:return h=e.sent,e.next=9,M();case 9:return e.abrupt("return",h);case 12:throw e.prev=12,e.t0=e.catch(3),console.error(e.t0),y(e.t0),e.t0;case 17:return e.prev=17,D(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[M]),K=Object(a.useMemo)((function(){return{klanten:E,error:k,errorType:G,loading:S,currentKlant:b,setCurrentKlant:d,createOrUpdateKlant:A,clearError:P}}),[E,k,G,S,d,b,A,P]);return Object(j.jsx)(v.Provider,{value:K,children:t})},y=n(237),w=n(65),C=n(76),S=n(232),D=n(54),V=n(41),T=n(234),E=n(6),I=n(108),N=function(e){var t=e.data,n=e.kolommen,r=e.onRowChange,c=e.filter,i=e.filterKolommen,s=e.kolombreedtes,l=e.tableEditable,o=e.onSelectedChange,u=void 0===o?function(){}:o,b=Object(a.useState)([]),d=Object(m.a)(b,2),h=d[0],O=d[1];Object(a.useEffect)((function(){O(t.filter((function(e){return function(e){return i.reduce((function(t,n){var a=e["".concat(n)];return null===a?t:!!a.startsWith(c)||!!a.toLowerCase().startsWith(c.toLowerCase())||t}),!1)}(e)})))}),[t,c,i]);var p=function(e,t){return l?Object(j.jsx)(S.a,{value:h[e][n[t]],onConfirm:function(a){var c=Object(C.a)(Object(C.a)({},h[e]),{},Object(w.a)({},"".concat(n[t]),a));r(c),h[e]=c},children:Object(j.jsx)(D.a,{})}):Object(j.jsx)(V.a,{children:Object(j.jsx)(D.a,{children:null===h[e][n[t]]?"":h[e][n[t]]})})};return Object(j.jsx)(T.a,{numRows:h.length,columnWidths:s,enableColumnResizing:!1,selectionModes:[E.b.CELLS],enableMultipleSelection:!1,onSelection:function(e){if(e&&void 0!==e[0]&&void 0!==e[0].rows[0]){var t=e[0].rows[0],n=h[t];u(n)}},children:n.map((function(e,t){return Object(j.jsx)(I.a,{name:e,cellRenderer:p},t)}))})},L=n(3),G=n(24),P=n(25),M=n(26),A=n(23),K=n(28),R=n(27),F=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"straat",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Straat:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"straat",style:{width:"30em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),z=Object(G.b)(F),B=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"huisnummer",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Huisnummer:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"huisnummer",style:{width:"5em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),_=Object(G.b)(B),H=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"Gemeente",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Gemeente:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"gemeente",style:{width:"14em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),U=Object(G.b)(H),W=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"Naam",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Naam:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"naam",style:{width:"14em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),Y=Object(G.b)(W),Z=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"Voornaam",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Voornaam:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"Voornaam",style:{width:"14em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),$=Object(G.b)(Z),q=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"Postcode",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Postcode:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"Postcode",style:{width:"14em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),J=Object(G.b)(q),Q=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"email",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Email:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"email",style:{width:"22em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),X=Object(G.b)(Q),ee=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"telefoonnummer",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"Tel. nr:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"telefoonnummer",style:{width:"10em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),te=Object(G.b)(ee),ne=function(e){Object(K.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).changeValue=a.changeValue.bind(Object(A.a)(a)),a}return Object(M.a)(n,[{key:"changeValue",value:function(e){this.props.setValue(e.currentTarget.value)}},{key:"render",value:function(){var e=this.props.errorMessage;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{style:{display:"inline"},children:[Object(j.jsx)("label",{htmlFor:"gsm",style:{width:"6em",display:"inline-block",textAlign:"right"},children:"GSM:\xa0"}),Object(j.jsx)("input",{onChange:this.changeValue,type:"text",value:this.props.value||"",id:"gsm",style:{width:"22em"}})]}),Object(j.jsx)("p",{style:{display:"inline-block",color:"red",paddingLeft:"1em",size:"x-small"},children:Object(j.jsx)("span",{children:e})})]})}}]),n}(r.a.Component),ae=Object(G.b)(ne),re=function(e){var t=e.onClose,n=e.onSubmit,r=Object(a.useState)(!1),c=Object(m.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(m.a)(o,2),b=u[0],d=u[1];return Object(j.jsx)(l.e,{title:"Klant Toevoegen",icon:"tag",isOpen:!0,onClose:t,width:500,canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"600px"},children:Object(j.jsx)("div",{className:L.a.DIALOG_BODY,children:Object(j.jsxs)(G.a,{onValidSubmit:function(e){e.vasteKlant=i,console.log(e),n({Voornaam:e.Voornaam,Naam:e.Naam,Straat:e.Straat,Huisnummer:e.Huisnummer,GSM:e.GSM,Postcode:e.Postcode,Gemeente:e.Gemeente,Telefoonnummer:e.Telefoonnummer,Email:e.Email,vasteKlant:e.vasteKlant,OpenstaandSaldo:0})},onValid:function(){return d(!1)},onInvalid:function(){return d(!0)},children:[Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)($,{name:"Voornaam"})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(Y,{name:"Naam"})}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(z,{required:!0,name:"Straat",validations:{minLength:1},validationErrors:{minLength:"Moet minstens 1 karakter lang zijn"}})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(_,{required:!0,name:"Huisnummer",validations:{minLength:1,matchRegexp:/^[0-9]+[a-zA-Z]?$/},validationErrors:{minLength:"Huisnummer is verplicht",matchRegexp:"Huisnummer is niet geldig"}})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(U,{name:"Gemeente"})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(J,{name:"Postcode",validations:{minLength:1,maxLength:6,isInt:!0},validationErrors:{minLength:"Moet minstens 1 cijfer bevatten",maxLength:"Mag maximaal 6 cijfers bevatten",isInt:"Mag enkel uit cijfers bestaan"}})}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(X,{name:"Email",validations:{isEmail:!0},validationErrors:{isEmail:"Ongeldig emailadres"}})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(te,{name:"Telefoonnummer",validations:{matchRegexp:/^((\+|00)32\s?|0)(\d\s?\d{3}|\d{2}\s?\d{2})(\s?\d{2}){2}$/},validationErrors:{matchRegexp:"Ongeldig telefoonnummer"}})}),Object(j.jsx)("div",{style:{padding:"0.3em"},children:Object(j.jsx)(ae,{name:"GSM",validations:{matchRegexp:/^((\+|00)32\s?|0)4(60|[789]\d)(\s?\d{2}){3}$/},validationErrors:{matchRegexp:"Ongeldig GSM nummer"}})}),Object(j.jsx)(l.u,{checked:i,label:"Vaste Klant",onChange:function(){return s(!i)}}),Object(j.jsx)("button",{type:"submit",disabled:b,children:"Klant Toevoegen"})]})})})},ce=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getUTCFullYear(),a=t.getUTCMonth()+1,r=t.getUTCDate(),e.next=5,f.a.get("bestellingen/".concat(n,"/").concat(a,"/").concat(r));case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i,s,l,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.BestellingID,a=t.datum,r=t.klantID,c=t.gerechtID,i=t.aantal,s=t.betaald,e.next=3,Object(f.a)({method:"put",url:"bestellingen/".concat(null!==n&&void 0!==n?n:""),data:{BestellingID:n,datum:a,klantID:r,gerechtID:c,aantal:i,betaald:s}});case 3:return l=e.sent,o=l.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(a.createContext)(),le=function(e){var t=e.children,n=Object(u.d)().ready,r=Object(a.useState)(!1),c=Object(m.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)({}),o=Object(m.a)(l,2),b=o[0],d=o[1],h=Object(a.useState)(),f=Object(m.a)(h,2),x=f[0],g=f[1],v=Object(a.useState)(!1),k=Object(m.a)(v,2),y=k[0],w=k[1],C=Object(a.useState)([]),S=Object(m.a)(C,2),D=S[0],V=S[1],T=Object(a.useState)([]),E=Object(m.a)(T,2),I=E[0],N=E[1],L=Object(a.useCallback)(Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(null),t=new Date,n=(new Date).setDate(t().getDate()-7),G(t,n,I);case 4:case"end":return e.stop()}}),e)}))),[]),G=Object(a.useCallback)(function(){var e=Object(p.a)(O.a.mark((function e(t,n,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(O.a.mark((function e(){var r,c,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(g(),w(!0),c=(r=a).length-1;c>=0;c--)i=new Date(r[c].datum),console.log(i),i>=t&&i<=n&&r.splice(c,1);s=new Date(t);case 5:if(!(s<=n)){e.next=14;break}return e.next=8,ce(s);case 8:e.sent.data.map((function(e){return r.push(e),null})),console.log(r);case 11:s.setDate(s.getDate()+1),e.next=5;break;case 14:V(r),N(r),console.log(r);case 17:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=8;break;case 4:e.prev=4,e.t1=e.catch(0),console.log(e.t1),g(e.t1);case 8:return e.prev=8,w(!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,4,8,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),[]);Object(a.useEffect)((function(){if(n&&!i){var e=new Date;e.setDate(e.getDate()-1);var t=new Date(e);t.setDate(e.getDate()+7),G(e,t,[]),s(!0)}}),[n,i,G]);var P=Object(a.useCallback)(function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i,s,l,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.BestellingID,a=t.datum,r=t.klantID,c=t.gerechtID,i=t.aantal,s=t.betaald,g(),w(!0),e.prev=3,e.next=6,ie({BestellingID:n,datum:a,klantID:r,gerechtID:c,aantal:i,betaald:s});case 6:return l=e.sent,o=new Date(a),e.next=10,G(o,o.setDate(o.getDate()+1));case 10:return e.abrupt("return",l);case 13:throw e.prev=13,e.t0=e.catch(3),console.error(e.t0),g(e.t0),e.t0;case 18:return e.prev=18,w(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,13,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[G]),M=Object(a.useCallback)(function(){var e=Object(p.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t,n,I.length>1?I:[]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[G,I]),A=Object(a.useMemo)((function(){return{bestellingen:D,error:x,clearError:L,loading:y,currentBestelling:b,setCurrentBestelling:d,createOrUpdateBestelling:P,viewPortWijzigen:M}}),[D,x,L,y,b,d,P,M]);return Object(j.jsx)(se.Provider,{value:A,children:t})},oe=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("gerechten");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.GerechtID,a=t.Naam,r=t.Prijs,e.next=3,Object(f.a)({method:"put",url:"gerechten/".concat(null!==n&&void 0!==n?n:""),data:{GerechtID:n,Naam:a,Prijs:r}});case 3:return c=e.sent,i=c.data,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=Object(a.createContext)(),be=function(e){var t=e.children,n=Object(u.d)().ready,r=Object(a.useState)(!1),c=Object(m.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)({}),o=Object(m.a)(l,2),b=o[0],d=o[1],h=Object(a.useState)(),f=Object(m.a)(h,2),x=f[0],g=f[1],v=Object(a.useState)(!1),k=Object(m.a)(v,2),y=k[0],w=k[1],C=Object(a.useState)([]),S=Object(m.a)(C,2),D=S[0],V=S[1],T=Object(a.useCallback)(Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(null),E();case 2:case"end":return e.stop()}}),e)}))),[]),E=Object(a.useCallback)(Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(),w(!0),e.next=5,oe();case 5:t=e.sent,V(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),g(e.t0);case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])}))),[]);Object(a.useEffect)((function(){n&&!i&&(E(),s(!0))}),[n,i,E]);var I=Object(a.useCallback)(function(){var e=Object(p.a)(O.a.mark((function e(t){var n,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.GerechtID,a=t.Naam,r=t.Prijs,g(),w(!0),e.prev=3,e.next=6,ue({GerechtID:n,Naam:a,Prijs:r});case 6:return c=e.sent,e.next=9,E();case 9:return e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(3),console.error(e.t0),g(e.t0),e.t0;case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[E]),N=Object(a.useMemo)((function(){return{gerechten:D,error:x,clearError:T,loading:y,currentGerecht:b,setCurrentGerecht:d,createOrUpdateGerecht:I}}),[D,x,T,y,d,b,I]);return Object(j.jsx)(je.Provider,{value:N,children:t})},de=function(e,t){var n=Object(a.useContext)(v).clearError,r=Object(a.useContext)(se).clearError,c=Object(a.useContext)(je).clearError;return console.log(e),Object(j.jsxs)(l.e,{title:"FOUT",icon:"error",isOpen:!0,width:500,canEscapeKeyClose:!0,canOutsideClickClose:!0,isCloseButtonShown:!0,children:[Object(j.jsxs)("div",{className:L.a.DIALOG_BODY,children:[Object(j.jsx)("p",{children:e.errortext.response.statusText}),Object(j.jsx)("p",{children:e.errortext.message})]}),Object(j.jsx)(l.a,{onClick:function(){"klanten"===t&&n(),"bestellingen"===t&&r(),"gerechten"===t&&c()},children:"OK"})]})},he=function(){var e=["Voornaam","Naam","Telefoonnummer","GSM"],t=Object(a.useContext)(v),n=t.klanten,r=t.error,c=(t.errorType,t.loading),i=t.createOrUpdateKlant,s=Object(a.useState)(!1),o=Object(m.a)(s,2),u=o[0],b=o[1],d=Object(a.useState)(""),h=Object(m.a)(d,2),f=h[0],x=h[1],g=Object(a.useState)(e),k=Object(m.a)(g,2),w=k[0],C=k[1],S=Object(a.useState)(!1),D=Object(m.a)(S,2),V=D[0],T=D[1];y.a.onlyShowFocusOnTabs();var E=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Postcode&&(t.Postcode=t.Postcode.toString()),t.Telefoonnummer||(t.Telefoonnummer=""),i(t),T(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?Object(j.jsx)(de,{errortext:r,provider:"klanten"}):c||!n||n&&0===n.length?Object(j.jsx)("div",{children:"Loading"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.i,{options:["Zoeken:","Voornaam en Naam","Gemeente","Straat"],onChange:function(t){"Zoeken:"===t.currentTarget.value?C(e):"Voornaam en Naam"===t.currentTarget.value?C(["Naam","Voornaam"]):C(["".concat(t.currentTarget.value)])}}),Object(j.jsx)(l.m,{placeholder:"zoeken",onChange:function(e){return x(e.currentTarget.value)}}),Object(j.jsx)(l.b,{checked:u,label:"Wijzigen toegestaan",onChange:function(){return b(!u)},style:{marginTop:"5px",marginLeft:"5px"}}),Object(j.jsx)(l.a,{onClick:function(){return T(!0)},children:"Toevoegen"}),V&&Object(j.jsx)(re,{onClose:function(){T(!1)},onSubmit:E})]}),Object(j.jsx)(N,{data:n,kolommen:["Voornaam","Naam","Straat","Huisnummer","Postcode","Gemeente","Telefoonnummer","GSM","Email","OpenstaandSaldo"],onRowChange:E,filter:f,filterKolommen:w,kolombreedtes:[150,150,150,100,100,150,125,150,250,110],tableEditable:u})]})};function Oe(){return Object(j.jsxs)("section",{id:"over",children:[Object(j.jsx)("h1",{children:"Traiteur Carl app"}),Object(j.jsx)("p",{children:"Copyright blabla"}),Object(j.jsx)("p",{children:"Help: blablabla"}),Object(j.jsx)("p",{children:"Later te schrijven"})]})}function pe(){return Object(j.jsx)("section",{id:"facturatie",children:Object(j.jsx)("p",{children:"Nog niet ge\xefmplementeerd"})})}var me=n(235),fe=n(236),xe=function(e){var t=Object(a.useContext)(v),n=t.klanten,r=t.error,c=t.loading,i=Object(a.useContext)(je),s=i.gerechten,o=i.error,u=i.loading,b=[],d=[],h=e.bestelling,O=h.bestellingID,p=h.datum,f=h.klantID,x=h.gerechtID,g=h.aantal,k=h.betaald,y=h.adres,w=h.gemeente,C=h.gerechtNaam,S=h.klantNaam;b=r||c?[]:n,d=o||u?[]:s;var D=Object(a.useState)(),V=Object(m.a)(D,2),T=V[0],E=V[1],I=Object(a.useState)(),N=Object(m.a)(I,2),L=N[0],G=N[1];Object(a.useEffect)((function(){E(n.find((function(e){return S==="".concat(e.Voornaam," ").concat(e.Naam)})))}),[S,n,e]),Object(a.useEffect)((function(){G(s.find((function(e){return C===e.Naam})))}),[C,e,s]);function P(e,t){var n=0,a=t.split(/\s+/).filter((function(e){return e.length>0})).map(M);if(0===a.length)return[e];for(var r=new RegExp(a.join("|"),"gi"),c=[];;){var i=r.exec(e);if(!i)break;var s=i[0].length,l=e.slice(n,r.lastIndex-s);l.length>0&&c.push(l),n=r.lastIndex,c.push(Object(j.jsx)("strong",{children:i[0]},n))}var o=e.slice(n);return o.length>0&&c.push(o),c}function M(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(fe.a,{items:b,itemPredicate:function(e,t){return"".concat(t.Voornaam.toLowerCase()).indexOf(e.toLowerCase())>=0||"".concat(t.Naam.toLowerCase()).indexOf(e.toLowerCase())>=0},inputValueRenderer:function(e){return"".concat(e.Voornaam," ").concat(e.Naam)},itemRenderer:function(e,t){var n=t.handleClick,a=t.modifiers,r=t.query;if(!a.matchesPredicate)return null;var c="".concat(e.Voornaam," ").concat(e.Naam);return Object(j.jsx)(l.o,{active:a.active,disabled:a.disabled,label:null,onClick:n,text:P(c,r)},e.klantID)},allowCreate:!1,closeOnSelect:!0,minimal:!0,resetOnQuery:!0,resetOnSelect:!0,popoverProps:{minimal:!0},selectedItem:T,onItemSelect:function(e){return E(e)}}),Object(j.jsx)(fe.a,{items:d,itemPredicate:function(e,t){return t.Naam.toLowerCase().startsWith(e.toLowerCase())},inputValueRenderer:function(e){return e.Naam},itemRenderer:function(e,t){var n=t.handleClick,a=t.modifiers,r=t.query;if(!a.matchesPredicate)return null;var c=e.Naam;return Object(j.jsx)(l.o,{active:a.active,disabled:a.disabled,label:null,onClick:n,text:P(c,r)},e.gerechtID)},allowCreate:!1,closeOnSelect:!0,minimal:!0,resetOnQuery:!0,resetOnSelect:!0,popoverProps:{minimal:!0},selectedItem:L,onItemSelect:function(e){return G(e)}}),Object(j.jsxs)(l.h,{label:"Adres",labelFor:"text-input",labelInfo:"(verplicht)",children:[Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:S})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:C})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:w})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:y})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:k})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:x})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:f})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:g})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:p})}),Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",value:O})})]})]})},ge=new Date,ve=new Date,ke=new Date;function ye(){var e=Object(a.useContext)(se),t=e.bestellingen,n=e.error,r=e.loading,c=e.viewPortWijzigen,i=Object(a.useState)(ge),s=Object(m.a)(i,2),o=s[0],u=s[1],b=Object(a.useState)(ve),d=Object(m.a)(b,2),h=d[0],O=d[1],p=Object(a.useState)(t),f=Object(m.a)(p,2),x=f[0],g=f[1],v=Object(a.useState)([]),k=Object(m.a)(v,2),y=k[0],w=k[1];if(Object(a.useEffect)((function(){o<h&&o>new Date("2000-01-01")&&h>new Date("2000-01-01")&&(c(o,h),w(null))}),[o,h]),Object(a.useEffect)((function(){g(t.filter((function(e){var t=new Date(e.datum);return t>=o&&t<=h})))}),[r,t,o,h]),r)return Object(j.jsx)("div",{children:"Loading"});if(n)return Object(j.jsx)(de,{errortext:n,provider:"bestellingen"});return Object(j.jsxs)("section",{id:"bestellingen",children:[Object(j.jsxs)("div",{style:{width:"60%",display:"inline-block"},children:[Object(j.jsx)(me.a,{value:[o,h],onChange:function(e){return function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];u(n),O(a)}(e)},shortcuts:!1,maxDate:ke}),Object(j.jsx)(l.a,{onClick:function(){var e=new Date,t=new Date;if(e.setDate(e.getDate()-14),1===e.getDay())e.setDate(e.getDate()+7);else do{e.setDate(e.getDate()+1)}while(1!==e.getDay());t.setDate(e.getDate()+7),u(e),O(t)},children:"Vorige week"}),Object(j.jsx)(l.a,{onClick:function(){for(var e=new Date,t=new Date;1!==e.getDay();)e.setDate(e.getDate()-1);t.setDate(t.getDate()+7),u(e),O(t)},children:"Deze week"}),Object(j.jsx)(l.a,{onClick:function(){var e=new Date,t=new Date;if(1===e.getDay())e.setDate(e.getDate()+7);else for(;1!==e.getDay();)e.setDate(e.getDate()+1);t.setDate(e.getDate()+7),u(e),O(t)},children:"Volgende week"}),Object(j.jsx)(N,{data:x,kolommen:["datum","betaald","adres","gemeente","gerechtNaam","klantNaam"],onRowChange:null,filter:"",filterKolommen:["klantNaam"],kolombreedtes:null,tableEditable:!1,onSelectedChange:w})]}),Object(j.jsx)("div",{style:{width:"40%",display:"inline-block",verticalAlign:"top"},children:y&&Object(j.jsx)(xe,{bestelling:y})})]})}ve.setDate(ve.getDate()+7),ke.setDate(ge.getDate()+365);var we=function(){var e=["Naam"],t=Object(a.useContext)(je),n=t.gerechten,r=t.error,c=t.loading,i=t.createOrUpdateGerecht,s=Object(a.useState)(!1),o=Object(m.a)(s,2),u=o[0],b=o[1],d=Object(a.useState)(""),h=Object(m.a)(d,2),f=h[0],x=h[1],g=Object(a.useState)(e),v=Object(m.a)(g,2),k=v[0],w=v[1],C=Object(a.useState)(!1),S=Object(m.a)(C,2),D=(S[0],S[1]);y.a.onlyShowFocusOnTabs();var V=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(j.jsx)("div",{children:"Loading"}):r?Object(j.jsx)(de,{provider:"gerechten",errortext:r}):!n||n&&0===n.length?Object(j.jsx)("div",{children:"Loading"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.i,{options:["Zoeken:","Voornaam en Naam","Gemeente","Straat"],onChange:function(t){"Zoeken:"===t.currentTarget.value?w(e):"Voornaam en Naam"===t.currentTarget.value?w(["Naam","Voornaam"]):w(["".concat(t.currentTarget.value)])}}),Object(j.jsx)(l.m,{placeholder:"zoeken",onChange:function(e){return x(e.currentTarget.value)}}),Object(j.jsx)(l.b,{checked:u,label:"Wijzigen toegestaan",onChange:function(){return b(!u)},style:{marginTop:"5px",marginLeft:"5px"}}),Object(j.jsx)(l.a,{onClick:function(){return D(!0)},children:"Toevoegen"})]}),Object(j.jsx)(N,{data:n,kolommen:["Naam","Prijs"],onRowChange:V,filter:f,filterKolommen:k,kolombreedtes:[500,100],tableEditable:u})]})},Ce=n(233),Se=function(){var e=Object(s.g)(),t=Object(u.b)(),n=Object(a.useState)(),r=Object(m.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(),b=Object(m.a)(o,2),d=b[0],h=b[1],f=Object(a.useState)(!1),x=Object(m.a)(f,2),g=x[0],v=x[1],k=Object(a.useState)(!1),y=Object(m.a)(k,2),w=y[0],C=y[1],S=function(){var n=Object(p.a)(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(c,d);case 2:n.sent?e("/"):C(!0);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),D=Object(j.jsx)(Ce.a,{content:"".concat(g?"Toon":"Verberg"," Wachtwoord"),children:Object(j.jsx)(l.a,{icon:g?"unlock":"lock",minimal:!0,onClick:function(){return v(!g)}})});return Object(j.jsx)(l.e,{title:"Aanmelden",icon:"tag",isOpen:!0,width:500,canEscapeKeyClose:!1,canOutsideClickClose:!1,isCloseButtonShown:!1,children:Object(j.jsxs)("div",{className:L.a.DIALOG_BODY,children:[w?Object(j.jsx)("div",{style:{color:"red"},children:Object(j.jsx)("p",{children:"FOUT: Gebruiker en/of wachtwoord niet correct"})}):null,Object(j.jsx)(l.h,{label:"Email",labelFor:"text-input",labelInfo:"(verplicht)",children:Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",placeholder:"Email",onChange:function(e){i(e.target.value),C(!1)},style:{width:"420px"}})})}),Object(j.jsx)(l.h,{label:"Wachtwoord",labelFor:"text-input",labelInfo:"(verplicht)",children:Object(j.jsx)(l.d,{children:Object(j.jsx)(l.m,{id:"text-input",placeholder:"Wachtwoord",onChange:function(e){h(e.target.value),C(!1)},rightElement:D,type:g?"text":"password",style:{width:"420px"}})})}),Object(j.jsx)(l.a,{onClick:function(){S()},type:"submit",text:"Aanmelden",icon:"follower"})]})})};function De(e){var t=e.children,n=Object(u.d)().isAuthed,a=Object(s.f)();return n?t:Object(j.jsx)(s.a,{to:"/login",state:{from:a}})}var Ve=function(){return Object(j.jsx)(u.a,{children:Object(j.jsx)(k,{children:Object(j.jsx)(be,{children:Object(j.jsxs)(le,{children:[Object(j.jsx)(d,{}),Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:"/login",element:Object(j.jsx)(Se,{})}),Object(j.jsx)(s.b,{path:"/klanten",element:Object(j.jsx)(De,{children:Object(j.jsx)(he,{})})}),Object(j.jsx)(s.b,{path:"/over",element:Object(j.jsx)(De,{children:Object(j.jsx)(Oe,{})})}),Object(j.jsx)(s.b,{path:"/facturatie",element:Object(j.jsx)(De,{children:Object(j.jsx)(pe,{})})}),Object(j.jsx)(s.b,{path:"/bestellingen",element:Object(j.jsx)(De,{children:Object(j.jsx)(ye,{})})}),Object(j.jsx)(s.b,{path:"/gerechten",element:Object(j.jsx)(De,{children:Object(j.jsx)(we,{})})})]})]})})})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,238)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Ee=n(63);i.a.render(Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Ve,{})}),document.getElementById("root")),Te()},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(105),r=n.n(a),c=n(53),i=r.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_BASE_URL||c.base_url,headers:{Authorization:"Bearer ".concat(localStorage.getItem(c.token_key))}}),s=function(e){e?i.defaults.headers.Authorization="Bearer ".concat(e):delete i.defaults.headers.Authorization}},30:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return g}));var a=n(9),r=n.n(a),c=n(16),i=n(10),s=n(0),l=n(67),o=n(29),u=n(53),j=n(1),b=u.token_key,d=Object(s.createContext)();function h(t){if(!t)return{};var n=t.split(".")[1],a=e.from(n,"base64").toString("ascii");return JSON.parse(a)}function O(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}var p=function(){return Object(s.useContext)(d)},m=function(){var e=p(),t=e.token,n=e.user,a=e.ready,r=e.loading,c=e.error,i=e.hasRole;return{token:t,user:n,ready:a,error:c,loading:r,isAuthed:Boolean(t),hasRole:i}},f=function(){return p().login},x=function(){return p().logout},g=function(e){var t=e.children,n=Object(s.useState)(!1),a=Object(i.a)(n,2),u=a[0],p=a[1],m=Object(s.useState)(!1),f=Object(i.a)(m,2),x=f[0],g=f[1],v=Object(s.useState)(""),k=Object(i.a)(v,2),y=k[0],w=k[1],C=Object(s.useState)(localStorage.getItem(b)),S=Object(i.a)(C,2),D=S[0],V=S[1],T=Object(s.useState)(null),E=Object(i.a)(T,2),I=E[0],N=E[1],L=Object(s.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h(t),c=a.exp,i=a.userId,s=O(c),(u=s>=new Date)?localStorage.setItem(b,t):(localStorage.removeItem(b),t=null),o.b(t),V(t),p(t&&u),n||!u){e.next=11;break}return e.next=10,l.a(i);case 10:n=e.sent;case 11:console.log("SETUSER: ",n),N(n);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);Object(s.useEffect)((function(){L(D,null)}),[D,L]);var G=Object(s.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),w(null),e.next=5,l.b(t,n);case 5:return a=e.sent,c=a.token,i=a.user,e.next=10,L(c,i);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),w("Login failed, try again"),e.abrupt("return",!1);case 18:return e.prev=18,g(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,13,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),[L]),P=Object(s.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),w(null),e.next=5,l.c(t);case 5:return n=e.sent,a=n.token,c=n.user,e.next=10,L(a,c);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),w(e.t0),e.abrupt("return",!1);case 17:return e.prev=17,g(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[L]),M=Object(s.useCallback)((function(){L(null,null)}),[L]),A=Object(s.useCallback)((function(e){return!!I&&I.roles.includes(e)}),[I]),K=Object(s.useMemo)((function(){return{token:D,user:I,ready:u,loading:x,error:y,login:G,logout:M,register:P,hasRole:A}}),[D,I,u,x,y,G,M,P,A]);return Object(j.jsx)(d.Provider,{value:K,children:t})}}).call(this,n(162).Buffer)},53:function(e){e.exports=JSON.parse('{"base_url":"https://traiteurcarl.herokuapp.com/api/","token_key":"auth_token"}')},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(9),r=n.n(a),c=n(16),i=n(29),s=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("gebruikers/login",{email:t,password:n});case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.email,c=t.password,e.next=3,i.a.post("gebruikers/register",{name:n,email:a,password:c});case 3:return s=e.sent,l=s.data,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("gebruikers/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},[[216,1,2]]]);
//# sourceMappingURL=main.e68ec2b3.chunk.js.map